<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Ø¸Ø§Ù… - ØªØµÙÙŠØ± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .container {
      background: white;
      border-radius: 24px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      max-width: 800px;
      width: 100%;
      padding: 32px;
    }

    .header {
      text-align: center;
      margin-bottom: 32px;
    }

    .icon-container {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 80px;
      height: 80px;
      background: linear-gradient(to bottom right, #ef4444, #ec4899);
      border-radius: 50%;
      margin-bottom: 16px;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .icon {
      width: 40px;
      height: 40px;
      stroke: white;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    h1 {
      font-size: 36px;
      font-weight: 900;
      color: #1f2937;
      margin-bottom: 8px;
    }

    .subtitle {
      color: #6b7280;
      font-size: 18px;
    }

    .alert-box {
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 24px;
      border: 2px solid;
    }

    .alert-danger {
      background: linear-gradient(to right, #fef2f2, #fff7ed);
      border-color: #fca5a5;
    }

    .alert-info {
      background: linear-gradient(to right, #eff6ff, #ecfeff);
      border-color: #93c5fd;
    }

    .alert-success {
      background: linear-gradient(to right, #f0fdf4, #ecfdf5);
      border-color: #86efac;
    }

    .alert-header {
      display: flex;
      align-items: start;
      gap: 12px;
      margin-bottom: 12px;
    }

    .alert-icon {
      width: 32px;
      height: 32px;
      flex-shrink: 0;
      margin-top: 4px;
    }

    .alert-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 12px;
    }

    .danger-title { color: #7f1d1d; }
    .info-title { color: #1e3a8a; }
    .success-title { color: #14532d; }

    .danger-text { color: #991b1b; }
    .info-text { color: #1e40af; }
    .success-text { color: #166534; }

    ul {
      list-style: none;
      font-size: 14px;
      line-height: 1.8;
    }

    ul li {
      display: flex;
      align-items: start;
      gap: 8px;
      margin-bottom: 8px;
    }

    .bullet {
      color: #dc2626;
      font-weight: 700;
      margin-top: 2px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      font-size: 14px;
    }

    .grid-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .dot {
      width: 8px;
      height: 8px;
      background: #2563eb;
      border-radius: 50%;
    }

    .progress-box {
      margin-bottom: 24px;
      display: none;
    }

    .progress-bar-container {
      background: #e5e7eb;
      border-radius: 9999px;
      height: 12px;
      overflow: hidden;
    }

    .progress-bar {
      background: linear-gradient(to right, #3b82f6, #9333ea);
      height: 100%;
      width: 0%;
      transition: width 0.3s ease;
    }

    .progress-text {
      text-align: center;
      color: #6b7280;
      font-size: 14px;
      margin-top: 8px;
      font-weight: 500;
    }

    .buttons {
      display: flex;
      gap: 16px;
    }

    button {
      flex: 1;
      padding: 16px 24px;
      font-size: 18px;
      font-weight: 700;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }

    button:active {
      transform: scale(0.95);
    }

    button:hover {
      transform: scale(1.05);
    }

    .btn-danger {
      background: linear-gradient(to right, #dc2626, #ec4899);
      color: white;
      box-shadow: 0 4px 6px rgba(220, 38, 38, 0.3);
    }

    .btn-danger:hover {
      background: linear-gradient(to right, #b91c1c, #db2777);
    }

    .btn-secondary {
      background: linear-gradient(to right, #6b7280, #4b5563);
      color: white;
      box-shadow: 0 4px 6px rgba(75, 85, 99, 0.3);
    }

    .btn-secondary:hover {
      background: linear-gradient(to right, #4b5563, #374151);
    }

    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .footer {
      margin-top: 32px;
      text-align: center;
      color: #6b7280;
      font-size: 14px;
    }

    .footer p:last-child {
      font-size: 12px;
      margin-top: 4px;
    }

    .hidden {
      display: none !important;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="icon-container">
        <svg class="icon" viewBox="0 0 24 24">
          <path d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
        </svg>
      </div>
      <h1>Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Ø¸Ø§Ù…</h1>
      <p class="subtitle">ØªØµÙÙŠØ± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„</p>
    </div>

    <div class="alert-box alert-danger">
      <div class="alert-header">
        <svg class="alert-icon" style="fill: #dc2626;" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
        </svg>
        <div style="flex: 1;">
          <h3 class="alert-title danger-title">âš ï¸ ØªØ­Ø°ÙŠØ± Ù‡Ø§Ù… Ø¬Ø¯Ø§Ù‹!</h3>
          <ul class="danger-text">
            <li>
              <span class="bullet">â€¢</span>
              <span><strong>Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ù†Ù‡Ø§Ø¦ÙŠ</strong> ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ±Ø¬Ø§Ø¹Ù‡Ø§</span>
            </li>
            <li>
              <span class="bullet">â€¢</span>
              <span>Ø³ÙŠØªÙ… Ø­Ø°Ù: Ø§Ù„Ø·Ù„Ø§Ø¨ØŒ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†ØŒ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§ØªØŒ Ø§Ù„Ø²ÙŠØ§Ø±Ø§ØªØŒ Ø§Ù„Ø§Ø³ØªØ¦Ø°Ø§Ù†Ø§ØªØŒ Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§ØªØŒ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø®Ø§ØµØ©</span>
            </li>
            <li>
              <span class="bullet">â€¢</span>
              <span>Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
            </li>
            <li>
              <span class="bullet">â€¢</span>
              <span><strong>ÙŠÙÙ†ØµØ­ Ø¨Ø¹Ù…Ù„ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©</strong> Ù‚Ø¨Ù„ Ø§Ù„ØªØµÙÙŠØ±</span>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="alert-box alert-info">
      <h3 class="alert-title info-title">ğŸ“‹ Ù…Ø§ Ø§Ù„Ø°ÙŠ Ø³ÙŠØ­Ø¯Ø«ØŸ</h3>
      <div class="grid info-text">
        <div class="grid-item">
          <div class="dot"></div>
          <span>Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨</span>
        </div>
        <div class="grid-item">
          <div class="dot"></div>
          <span>Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†</span>
        </div>
        <div class="grid-item">
          <div class="dot"></div>
          <span>Ø­Ø°Ù Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª</span>
        </div>
        <div class="grid-item">
          <div class="dot"></div>
          <span>Ø­Ø°Ù ÙØ¦Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨</span>
        </div>
        <div class="grid-item">
          <div class="dot"></div>
          <span>Ø­Ø°Ù Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª</span>
        </div>
        <div class="grid-item">
          <div class="dot"></div>
          <span>Ø­Ø°Ù Ø§Ù„Ø§Ø³ØªØ¦Ø°Ø§Ù†Ø§Øª</span>
        </div>
        <div class="grid-item">
          <div class="dot"></div>
          <span>Ø­Ø°Ù Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§Øª</span>
        </div>
        <div class="grid-item">
          <div class="dot"></div>
          <span>Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</span>
        </div>
      </div>
    </div>

    <div id="successMessage" class="alert-box alert-success hidden">
      <div class="alert-header">
        <svg class="alert-icon" style="fill: #16a34a;" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
        </svg>
        <div>
          <h3 class="alert-title success-title">âœ… ØªÙ… Ø§Ù„ØªØµÙÙŠØ± Ø¨Ù†Ø¬Ø§Ø­!</h3>
          <p class="success-text" style="margin-top: 4px;">ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</p>
        </div>
      </div>
    </div>

    <div id="progressBox" class="progress-box">
      <div class="progress-bar-container">
        <div id="progressBar" class="progress-bar"></div>
      </div>
      <p id="progressText" class="progress-text">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØµÙÙŠØ±...</p>
    </div>

    <div class="buttons">
      <button id="resetBtn" onclick="resetDatabase()" class="btn-danger">
        <svg style="width: 24px; height: 24px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
        </svg>
        <span>ØªØµÙÙŠØ± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span>
      </button>

      <button onclick="window.location.href='index.html'" class="btn-secondary">
        <svg style="width: 24px; height: 24px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        <span>Ø¥Ù„ØºØ§Ø¡</span>
      </button>
    </div>

    <div class="footer">
      <p>Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø§Ø¨</p>
      <p>Ø§Ù„Ø£Ø³ØªØ§Ø° ÙˆØ§Ø¦Ù„ Ø§Ù„ÙÙŠÙÙŠ - 0558890902</p>
    </div>
  </div>

  <script>
    async function resetDatabase() {
      const firstConfirm = confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØµÙÙŠØ± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ\n\nØ³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ù†Ù‡Ø§Ø¦ÙŠ!')

      if (!firstConfirm) return

      const secondConfirm = confirm('âš ï¸ ØªØ£ÙƒÙŠØ¯ Ù†Ù‡Ø§Ø¦ÙŠ!\n\nÙ‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.\n\nÙ‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŸ')

      if (!secondConfirm) return

      const btn = document.getElementById('resetBtn')
      btn.disabled = true
      btn.style.opacity = '0.5'

      document.getElementById('progressBox').classList.remove('hidden')
      document.getElementById('successMessage').classList.add('hidden')

      try {
        updateProgress(20, 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...')

        // Ø­Ø°Ù Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        const dbName = 'StudentsDatabase'

        updateProgress(40, 'Ø¬Ø§Ø±ÙŠ Ø­Ø°Ù Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...')

        await new Promise((resolve, reject) => {
          const request = indexedDB.deleteDatabase(dbName)

          request.onsuccess = () => {
            console.log('ØªÙ… Ø­Ø°Ù Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­')
            resolve()
          }

          request.onerror = () => {
            console.error('Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª')
            reject(request.error)
          }

          request.onblocked = () => {
            console.warn('Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø­Ø°Ù Ù…Ø­Ø¬ÙˆØ¨Ø©')
            alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥ØºÙ„Ø§Ù‚ Ø¬Ù…ÙŠØ¹ Ù†ÙˆØ§ÙØ° Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø®Ø±Ù‰ ÙˆØ§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰')
            reject(new Error('Database deletion blocked'))
          }
        })

        updateProgress(60, 'Ø¬Ø§Ø±ÙŠ ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©...')

        // Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§Øª localStorage
        const keysToRemove = []
        for (let i = 0; i < localStorage.length; i++) {
          const key = localStorage.key(i)
          if (key) {
            keysToRemove.push(key)
          }
        }

        updateProgress(80, 'Ø¬Ø§Ø±ÙŠ Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª...')

        keysToRemove.forEach(key => {
          localStorage.removeItem(key)
        })

        sessionStorage.clear()

        updateProgress(100, 'ØªÙ… Ø§Ù„ØªØµÙÙŠØ± Ø¨Ù†Ø¬Ø§Ø­!')

        setTimeout(() => {
          document.getElementById('progressBox').classList.add('hidden')
          document.getElementById('successMessage').classList.remove('hidden')

          setTimeout(() => {
            window.location.href = 'index.html'
          }, 2000)
        }, 500)

      } catch (error) {
        console.error('Ø®Ø·Ø£ ÙÙŠ ØªØµÙÙŠØ± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error)
        alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØµÙÙŠØ± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ' + error.message)

        btn.disabled = false
        btn.style.opacity = '1'
        document.getElementById('progressBox').classList.add('hidden')
      }
    }

    function updateProgress(percent, text) {
      document.getElementById('progressBar').style.width = percent + '%'
      document.getElementById('progressText').textContent = text
    }
  </script>
</body>
</html>
